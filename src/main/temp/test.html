<!DOCTYPE html>
<html>
  <head>
    <title>Leaflet easyPrint plugin Demo</title>
    <meta charset="utf-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
    <link href='https://fonts.googleapis.com/css?family=Lato:900,300' rel='stylesheet' type='text/css'>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    
    <style>
      html {background: #222222; padding: 20px;font-family: 'Lato', sans-serif;}
      h2,p {color: white;}
    </style>
  </head>

  <body class="easyPrint">
    <h2>Welcome to the Leaflet easyPrint demo</h2>
    <p>All this text will be hidden when I print my map.</p>
    <div id="map" style="height:600px;"></div>
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-easyprint@2.1.8/dist/bundle.js"></script>

    <script>
      var map = L.map('map').setView([36.44208905909144, 10.612819717498498], 9);
      
      var tiles = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}.png', {
        maxZoom: 18,
        attribution: 'Map data Â© <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',
      }).addTo(map);

      var wmsLayer = L.tileLayer.wms('https://adwaiseo1.wasdi.net/geoserver/wasdi/wms', {
        layers: 'wasdi:136a7090-4310-4f51-b230-ba483dbeba0b',
        format: 'image/png',
        transparent: true
      }).addTo(map);

      // Event handler for map click
      function onMapClick(e) {
        var lat = e.latlng.lat;
        var lng = e.latlng.lng;
        console.log('Clicked at:', lat, lng);
      }

      // Attach the click event handler to the map
      map.on('click', onMapClick);

      var printer = L.easyPrint({
            tileLayer: tiles,
            sizeModes: ['Current', 'A4Landscape', 'A4Portrait'],
            filename: 'myMap',
            exportOnly: true,
            hideControlContainer: true
      }).addTo(map);

      function manualPrint () {
        printer.printMap('CurrentSize', 'MyManualPrint')
      }

    </script>
  </body>
</html>
